# MLaaS Data Generator

This package converts the original `MLaaS_Data_Generator.ipynb` notebook into a small
Python package.  The goal is to provide a repeatable way to generate synthetic
client records for experiments with Adaptive MLaaS.

The generator performs a lightweight federated-learning loop. Local model
weights for each client and the aggregated global weights are written to a
`weights/` directory for every round.

Multiple round metrics can be combined into one dataframe for further evaluation

## Usage

```bash
# Default
python -m mlaas_data_generator.cli --clients 5 --dataset fashion_mnist --distribution custom_distributions.json --output clients.csv

# Explicit call
python -m mlaas_data_generator.cli generate \
  --clients 5 \
  --dataset fashion_mnist \
  --distribution custom.json \
  --output clients.csv

# Merge explicit files 
python -m mlaas_data_generator.cli merge  outputs/runs/clients.csv outputs/runs/FMNIST_clients.csv --output merged.csv --dedupe
    # Or global
python -m mlaas_data_generator.cli merge ""outputs/runs/*.csv" --output merged.csv

```

Use `--clients *num_clients*` to specify the number of clients wanted.
Use `--dataset *dataset_name*` to switch to the specified dataset.
Specify `--distribution custom_distributions.json` to use a custom distributed dataset.
use `--output *filename*.csv` to specify the output files name. 


The command downloads the chosen dataset, trains a small model for each
client and writes the resulting metrics into `clients.csv`.
